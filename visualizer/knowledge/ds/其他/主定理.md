## 题目复述

1) 设 $T(1)=a$。无论常数 $a$ 多大，若
$$
T(n)=T(n/2)+O(1),
$$
则解的时间复杂度总是 $O(\log n)$。（判断）

2) 设复杂度函数 $f(n)$ 满足 $f(0)=f(1)=O(1)$，且对 $n\ge2$ 有
$$
f(n)=3\,f(n/9)+O(1)。
$$
问：$f(n)$ 属于哪一层级（用 $O$ 记号给出），并说明理由。

3) 某算法运行时间满足
$$
T(n)=128\,T\!\left(\frac{n}{2^{2023}}\right)+\sqrt[290]{n},
$$
求 $T(n)$ 的渐进阶。

4) 已知 $T(1)=O(1)$，且
$$
T(n)=512\,T\!\left(\frac{n}{2^{2025}}\right)+\sqrt[450]{(5n-4)(3n+2)}，
$$
求 $T(n)=O(\ \ \ )$。

---

## 标准解与理由

### 1) 结论：**正确**  
参数：$a=1,\ b=2,\ g(n)=\Theta(1)=\Theta(n^{0})$。  
基准量 $\phi(n)=n^{\log_b a}=n^{\log_2 1}=n^0$。  
与 $g(n)$ **打平**（主定理第二类，$k=0$）：
$$
T(n)=\Theta\!\big(n^{0}\log n\big)=\Theta(\log n).
$$
基值 $T(1)=a$ 只影响常数，不改阶。

---

### 2) 结论：**$f(n)=\Theta(\sqrt n)$**  
参数：$a=3,\ b=9,\ g(n)=\Theta(1)$。  
$$
\phi(n)=n^{\log_b a}=n^{\log_9 3}=n^{1/2}.
$$
有 $g(n)=O\!\big(n^{1/2-\varepsilon}\big)$（取 $\varepsilon=1/2$），属**第一类（递归主导）**：
$$
f(n)=\Theta\!\big(n^{\log_b a}\big)=\Theta(\sqrt n).
$$

---

### 3) 结论：**$T(n)=\Theta\!\big(n^{7/2023}\big)$**  
参数：$a=128=2^7,\ b=2^{2023},\ g(n)=n^{1/290}$。  
$$
\phi(n)=n^{\log_{2^{2023}}2^7}=n^{7/2023}.
$$
比较指数：$\frac{1}{290}<\frac{7}{2023}$（因 $7\times290=2030>2023$），  
故 $g(n)=O\!\big(n^{\log_b a-\varepsilon}\big)$，为**第一类**：
$$
T(n)=\Theta\!\big(n^{7/2023}\big).
$$

---

### 4) 结论：**$T(n)=O\!\big(n^{1/225}\log n\big)$（且实际上为 $\Theta$）**  
参数：$a=512=2^9,\ b=2^{2025}$。  
$$
\phi(n)=n^{\log_{2^{2025}}2^9}=n^{9/2025}=n^{1/225}.
$$
非递归项
$$
g(n)=\sqrt[450]{(5n-4)(3n+2)}=\Theta\!\big(n^{2/450}\big)=\Theta\!\big(n^{1/225}\big).
$$
与 $\phi(n)$ **打平**（第二类，$k=0$）：
$$
T(n)=\Theta\!\big(n^{1/225}\log n\big),
$$
因此题面空格可填：$O\!\big(n^{1/225}\log n\big)$。

---

## 主定理（Master Theorem）一页通关

研究分治递推
$$
T(n)=a\,T(n/b)+g(n),\qquad a\ge1,\ b>1,
$$
令
$$
\phi(n)\equiv n^{\log_b a}.
$$
比较外部工作 $g(n)$ 与基准 $\phi(n)$（即“每层子问题总工作量”）。

### 三大情形

1. **递归主导（外部更小）**  
   若存在 $\varepsilon>0$，使
   $$
   g(n)=O\!\Big(\frac{\phi(n)}{n^{\varepsilon}}\Big),
   $$
   则
   $$
   T(n)=\Theta\big(\phi(n)\big).
   $$

2. **打平（同阶多对数）**  
   若
   $$
   g(n)=\Theta\big(\phi(n)\,\log^k n\big)\quad(k\ge0),
   $$
   则
   $$
   T(n)=\Theta\big(\phi(n)\,\log^{k+1} n\big).
   $$

3. **外部主导（外部更大）**  
   若存在 $\varepsilon>0$，使
   $$
   g(n)=\Omega\!\big(\phi(n)\,n^{\varepsilon}\big),
   $$
   且满足**正则条件**（Regularity）
   $$
   a\,g(n/b)\le c\,g(n)\quad(\text{某常数 }c<1,\ \text{当 }n\text{ 足够大}),
   $$
   则
   $$
   T(n)=\Theta\big(g(n)\big).
   $$

> 口诀：**比基准小——取基准；打平——乘个 $\log$；比基准大——取外部（要正则）**。

---

## 实战步骤（拿到题就这么做）

1. 认出 $a,b,g(n)$，算出 $\phi(n)=n^{\log_b a}$。  
2. 把 $g(n)$ 化为幂函数（必要时忽略常数与低阶），比较与 $\phi(n)$ 的指数。  
3. 套用三类之一；若打平就多一个 $\log n$。  
4. 判到第三类时顺手检查正则条件（多项式/多对数型一般满足）。

---

## 四题归类回顾

- 题1：**第二类**（$g=\Theta(1)=\Theta(n^{\log_2 1})$）$\Rightarrow\ \Theta(\log n)$。  
- 题2：**第一类**（$g$ 比 $\phi(n)=n^{1/2}$ 小）$\Rightarrow\ \Theta(\sqrt n)$。  
- 题3：**第一类**（$1/290<7/2023$）$\Rightarrow\ \Theta(n^{7/2023})$。  
- 题4：**第二类**（打平）$\Rightarrow\ \Theta(n^{1/225}\log n)$。

> 备注：若 $g(n)$ 不是“多项式 × 多对数”型，经典主定理可能不适用；此时可用更通用的 **Akra–Bazzi 定理**。




## Master 定理一眼速判（Obsidian 版）

设递推：$T(n)=a\,T(n/b)+g(n)$，令 **基准** $\phi(n)=n^{\log_b a}$。

### 最好用的记忆法：**先看指数，后看对数**
把 $g(n)$ 尽量写成 $g(n)=\Theta\!\big(n^{p}\,(\log n)^k\big)$ 的样子（若能写）。
记 $\alpha=\log_b a$，比较 **指数 $p$ 与 $\alpha$**：

1. **$p<\alpha$（$g$ 比基准小一个多项式级别）**  
   → 第一类：$T(n)=\Theta\!\big(n^{\alpha}\big)$。

2. **$p=\alpha$（打平）**  
   - 若 $g(n)=\Theta\!\big(n^{\alpha}(\log n)^k\big)$，则  
     第二类：$T(n)=\Theta\!\big(n^{\alpha}(\log n)^{k+1}\big)$。

3. **$p>\alpha$（$g$ 比基准大一个多项式级别）**  
   → 第三类（再顺手心里过一下正则条件，一般多项式×对数都满足）：  
   $T(n)=\Theta\!\big(g(n)\big)=\Theta\!\big(n^{p}(\log n)^k\big)$。

> **口决**：**小取基准，平添一 log，大取外部（多项式级）**。  
> “小/大”指的是**多项式级**的差距（指数 $p$ 和 $\alpha$ 的大小），不是和 $\phi(n)/n^\text{幂}$ 做比较。

---

### 你刚才的表述对照修正
- 第一类 ✅：$g(n)=O\!\big(\phi(n)/n^{\varepsilon}\big)$（比基准小一个多项式因子）。
- 第二类 ✅：$g(n)=\Theta\!\big(\phi(n)\,(\log n)^k\big)$。
- 第三类 **应为**：$g(n)=\Omega\!\big(\phi(n)\,n^{\varepsilon}\big)$，而不是“比 $\phi(n)/n^{\varepsilon}$ 大”。

---

### 为啥要强调“多项式级”？
反例体感：设 $g(n)=\phi(n)\cdot(\log n)^{100}$。  
- 它**确实大于** $\phi(n)$，但**没有**大到“多一个多项式因子”。  
- 正确归类是**第二类**（$k=100$），解为 $T(n)=\Theta\big(\phi(n)\,(\log n)^{101}\big)$，**不是**第三类。

---

### 3 步速判模板（拿题就套）
1. 算 $\alpha=\log_b a$；  
2. 把 $g(n)$ 化成 $n^{p}(\log n)^k$ 的形态（看“指数 $p$”）；  
3. 比较 $p$ vs $\alpha$ → 套三类结论（平局就多一个 log）。

---

# 五个递推的渐进解
---

**题 1**：$T(n) = 4T(n/3) + n \log n$

**解答**：$\phi(n)=n^{\log_3 4}$；$g(n)=n\log n=O(n^{1+\varepsilon})$ 比基准小一个多项式级（第一类）。
$$
T(n)=\Theta\!\big(n^{\log_3 4}\big).
$$

---

**题 2**：$T(n) = 4T(n/2) + n^{2} \sqrt n = 4T(n/2) + n^{2.5}$

**解答**：$\phi(n)=n^{\log_2 4}=n^2$，$g(n)=n^{2.5}=\Omega(\phi(n)\,n^{0.5})$；且
$$
4\,g(n/2)=\frac{4}{2^{2.5}}\,n^{2.5}\le c\,g(n)\quad(c<1).
$$
第三类：
$$
T(n)=\Theta\!\big(n^{2.5}\big).
$$

---

**题 3**：$T(n) = T(n-1) + \log n$

**解答**：
$$
T(n) = T(1) + \sum_{k=2}^{n} \log k
= T(1) + \log(n!)
= \Theta(n \log n).
$$

---

**题 4**：$T(n) = 2T(n/2) + \frac{n}{\log n}$

**解答（递归树）**：第 $i$ 层总代价
$$
\text{level}_i=\frac{n}{\log n - i\log 2}.
$$
层数约 $\log_2 n$，于是
$$
\sum_{i=0}^{\log_2 n - 1}\frac{n}{\log n - i \log 2}
= n \sum_{j=1}^{\log_2 n} \frac{1}{j}
= \Theta(n \log \log n).
$$
故
$$
T(n) = \Theta(n \log \log n).
$$

---

**题 5**：$T(n) = \sqrt{n} T(\sqrt{n}) + n$

**解答（变量替换）**：令 $n = 2^x$，$U(x) = T(2^x)/2^x$，则
$$
U(x) = U(x/2) + 1.
$$
深度 $\Theta(\log x) = \Theta(\log \log n)$，故 $U(x) = \Theta(\log \log n)$。
$$
T(n) = n \cdot \Theta(\log \log n) = \Theta(n \log \log n).
$$

---

## 总结
1. $T(n) = 4T(n/3) + n \log n \Rightarrow \Theta(n^{\log_3 4})$  
2. $T(n) = 4T(n/2) + n^{2.5} \Rightarrow \Theta(n^{2.5})$  
3. $T(n) = T(n-1) + \log n \Rightarrow \Theta(n \log n)$  
4. $T(n) = 2T(n/2) + n/\log n \Rightarrow \Theta(n \log \log n)$  
5. $T(n) = \sqrt{n} T(\sqrt{n}) + n \Rightarrow \Theta(n \log \log n)$

